# 예외
===

![대표사진](../intro.png)

> 책 "이펙티브 자바 3판"을 공부하면서 정리한 문서입니다.


## 예외는 진짜 예외 상황에만 사용하라

자바의 예외는 예외 상황에서만 사용한다.

```java
try {
    int i = 0;
    
    while(true) {
        range[i++].climb();
    }
} catch (Exception e) {
    // ...
}
```

이런 코드를 짜면 안된다는 것이다. 절대!! **일상적인 제어 흐름용**으로 쓰면 안된다. `Iterator`처럼 `hasNext` 메서드를 제공하여, 클라이언트가, 오류날 가능성을 적게 API를 설계하라.

다음은 책에서 권고하는, 상태 검사 메서드, 옵셔널, 혹은 특정 값 중 하나를 선택하는 지침이다.

1. 외부 동기화 없이 여러 스레드가 동시에 접근할 수 있거나 외부 요인으로 상태가 변할 수 있다면, 옵셔널이나 특정 값을 사용한다.
2. 성능이 중요한 상황에서 상태 검사 메서드가 상태 의존적 메서드의 작업 일부를 중복 수행한다면, 옵셔널이나 특정 값을 사용한다.
3. 그 외 모든 경우엔 상태 검사 메서드 방식이 낫다.


## 복구할 수 있는 상황에는 검사 예외를, 프로그래밍 오류에는 런타임 예외를 사용하라

자바에서 문제 상황을 알리는 타입으로는 검사 예외, 런타임 예외, 에러 이렇게 3가지가 있다. 이들을 사용하는 지침은 다음과 같다.

1. 호출하는 쪽에서 복구하리라 여겨지는 상황이라면, 검사 예외를 사용하라
2. 프로그래밍 오류를 나타낼 때는 런타임 예외를 사용하라

쉽게 말해서, 복구 가능하다면, 검사 예외 아니라면 런타임 예외를 사용하라는 것이다. 또한, 책에서는 개발자가 구현하는 비검사 `Throable`은 모두 `RuntimeException` 하위 클래스를 만들 것을 권고 하고 있다. 또한, `Exception`, `RuntimeException`, `Error`를 절대로 상속해서 쓰지 말 것을 권고한다.


## 필요 없는 검사 예외 사용은 피하라

## 표준 예외를 사용하라

## 추상화 수준에 맞는 예외를 던져라

## 메서드가 던지는 모든 예외를 문서화하라

## 예외의 상세 메세지에 실패 관련 정보를 담으라

## 가능한 한 실패 원자적으로 만들라

## 예외를 무시하지 말라
    