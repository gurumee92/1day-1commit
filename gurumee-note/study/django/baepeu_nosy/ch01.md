웹 프로그래밍이란?
=====================

> 책 "베프의 오지랖 파이썬 웹 프로그래밍" 정리한 문서입니다. 책은 저자들의 소중한 자산이기 때문에 책에 나와 있는 모든 내용을 기술하지 않고 최대한 압축해서 정리할 예정입니다. 이 책을 정리하는 이유는 "11번가 하계 인턴" 동안 수행해야 하는 개인 과제 "통합 검색 서비스"를 만들기 위해서 연구 목적입니다.

Contents
-------------

이번 장에서 배울 목차는 다음과 같습니다.

1. 시작하며..
2. 웹 프로그래밍의 세계
3. 웹 서버와 웹 애플리케이션 서버
4. 인프라라 불리우는 것들에 대해서
5. 파이썬과 장고
6. 마치며..

## 시작하며..

이번 장에서는 간단하게 웹 프로그래밍과 장고에 대해서 알아보겠습니다. 실제 코드 작성이 있는 것은 아니니, 가볍게 읽으시면 될 것 같습니다. 코드에 관심이 있으신 분들은 [3장](./ch03.md)부터 읽으시면 됩니다. 자 시작해봅시다.


## 웹 프로그래밍의 세계

웹 프로그래밍이란 일반적으로 웹 사이트 혹은 웹 페이지를 만드는 과정을 말합니다. 크게 2가지로 나눌 수 있는데, 화면에 보이는 페이지를 구성하거나 동작시키는 **프론트엔드**, 프론트엔드 단에서 필요한 데이터를 가공하고 제공해주는 **백엔드**로 나눌 수 있습니다. 간혹 프론트엔드를 클라이언트 사이드 프로그래밍, 백엔드를 서버 사이드 프로그래밍이라고 지칭하기도 합니다.

`프론트엔드` 작업은 HTML, CSS, Javascript 라는 언어들로 개발을 합니다. HTML과 CSS는 웹 페이지를 구성하고 꾸미는 언어들입니다. 최근에는 클라이언트를 동작시키는 Javascript 가 Typescript, Elm, Dart 등으로 바뀌긴 하지만 결국 Javascript로 컴파일 되기 때문에 이 3개의 언어로 구성한다고 생각해도 무방합니다. 예전에는 웹 상에서 긁어오면 된다? 라는 쉬운 작업으로 생각하며 "프론트엔드 개발자는 개발자가 아니다!" 라는 편견이 있었는데, 요즘은 프론트엔드도 복잡해지고 고도화되면서 개발자의 한 축으로 자리 잡고 있습니다. 최근에는 프론트엔드 라이브러리 3대장 `Vue.js, React.js, Angular.js`의 등장과 업계 표준으로 자리 잡으면서 나날이 발전하고 있습니다.

`백엔드` 작업은 여러 언어가 존재합니다. 또한 이들 언어는 쉽게 웹 애플리케이션 서버를 구성하게 프레임워크들이 존재합니다. 예를 들면, 자바/스프링, 파이썬/장고, 자바스크립트/Node.js, php/라라벨 등이 있습니다. 요즘에는 언어 싸움보단 프레임워크 점유율 싸움이 되었는데 현재 한국은 자바/스프링 진영이 우세합니다. 사실 몇년전만 해도 압도적으로 우세하였는데, 요즘은 많은 프레임워크들이 등장하고 쓸만하다라는 것이 증명되면서 고르게 퍼져가고 있습니다. 그 중 파이썬 진영의 장고 프레임워크 혹은 자바스크립트 진영의 Node.js가 눈부신 발전을 하고 있습니다. 우리가 집중할 부분은 `장고 프레임워크`입니다.


## 웹 서버와 웹 애플리케이션 서버

서버사이드는 보통, 웹 서버와 WAS(Wep Application Server)라고 불리우는 웹 애플리케이션 서버로 나뉩니다. 웹 서버는 웹 애플리케이션이 동작하는 서버를 뜻합니다. 일반적으로 클라이언트의 요청/응답을 받는 것이 서버고 그 요청/응답을 처리하는 것이 웹 애플리케이션 서버입니다. 가령, 장고 프레임워크로 만들어진 것은 웹 애플리케이션 서버이고 그 애플리케이션 서버가 동작하는 컴퓨터가 바로 웹 서버입니다. WAS와 웹 서버는 예전에는 CGI(Common Gateway Interface)라는 방식으로 통신했지만 요즘은 좀 더 진보된 WSGI 등의 방식으로 통신하고 있습니다.


## 인프라라 불리우는 것들에 대해서

인프라란, 다양한 종류의 서버들이 동작하는 환경과 형태를 뜻합니다. 요즘은 클라우드 컴퓨팅이라고 해서 인프라를 가상화라는 방식을 통해 구성하기도 합니다. 보통 CDN, 로드 밸런서, 웹 서버, 캐시 서버, DB 서버, 파일 서버 등이 하나로 뭉쳐있는 형태입니다.

CDN(Content Delivery Network)은 세계 곳곳에 노드 컴퓨터를 두고 사용자가 필요한 데이터를 미리 저장하거나 요청받은 이후, 다음 사용자를 위해 저장해 놓는 형태입니다. 이것을 이용하면, 서버와 사용자간 물리적 거리로 인한 응답 시간 증가를 최소화시켜줍니다. 예를 들어 에어비앤비, 유튜브처럼 전세계 데이터를 전송해야하는 서비스들이 이것을 통해 서비스 효율화를 추구하고 있습니다.

로드 밸런서는 웹 서버와 관련이 있습니다. 보통 서버의 요청/응답이 많을 때, 1대로 부족할 수 있습니다. 이럴 땐, 비싸고 좋은 서버로 교체하여 1대의 성능을 더 높이는 스케일 업, 값싸고 비교적 성능이 덜 좋은 여러 대의 서버를 묶어서 클러스터를 구성하는 스케일 아웃 방식이 있습니다. 로드밸러스는 스케일 아웃 시, 적절하게 여러대의 서버에게 요청/응답을 분산시켜주는 역할을 수행합니다.


웹 서버는 앞서 말했듯이 실제 클라이언트 요청을 처리하는 컴퓨터입니다. 웹 애플리케이션 서버와 애플리케이션이 보통 이 서버 한 곳에 존재하여 클라이언트 응답을 처리해줍니다. 웹 서버 구성 방법은 여러가지인데 보통 아파치, NGINX 를 이용하여 구성합니다.

캐시 서버는 용청에 대한 응답을 미리 파일이나 메모리 캐시로 저장해두는 컴퓨터를 말합니다. Redis 라는 것이 대표적이며 한 번 요청이 들어오면 웹 서버가 이 요청을 받고 WAS에 전달합니다. 그리고 데이터가 필요하면 DB에 접근해 데이터를 얻고 WAS는 응답을 다시 웹 서버로 보내줍니다. 캐시 서버는 이 작업을 생략시키기 위해 사용합니다. 똑같은 요청에 대한 응답을 저장하여, 이 과정을 최초 1번 이후 혹은 꽤 오랜 시간이 지나 메모리에 이 과정이 지워질 때까지 빠르게 응답을 처리할 수 있게 만들어줍니다.

DB 서버는 실제 사용자가 사용하는 여러 데이터를 저장하는 서버입니다. 보통 RDBMS를 지칭합니다. MySQL, Maria DB, MSSQL, PostgreSQL 등 여러 데이터베이스가 존재합니다. 그리고 이들 말고도 NO-SQL 데이터베이스라고 해서 MongoDB, Elasticsearch, 카산드라 등 다른 데이터베이스가 존재합니다. 본질은 사용자가 웹 서비스를 이용하는데 필요한 데이터를 저장하는 녀석이라고 생각하면 됩니다.

파일 서버는 인스타그램처럼 사용자가 파일 업로드 시 파일을 저장하는 서버입니다. 데이터베이스로도 저장이 가능하나, 보통 크기가 엄청 크기 때문에 사용하지 않고 따로 파일 서버를 두는 방식을 사용합니다. 요즘은 아마존의 S3가 대표적인 파일 서버라고 보시면 됩니다.

인프라는 위에 언급한 것 이외에도 많은 형태가 존재합니다. 이것들을 사용하기 위해서, 인프라 구성 방식에 대해서 알아야 하고, 접근 방법(API)에 대해 알아야 합니다. 요즘은 아마존 AWS, MS Azure, 구글 클라우드 등 클라우드 컴퓨팅 시스템을 이용해 인프라를 구성하는게 대세입니다. 이런 것들은 보통 API를 제공하는데 웹 서버에서 이들 API를 이용하여 통신을 해야 한답니다. 책에서는 Heroku, AWS 에 대해서 간단하게 알아보겠습니다.


## 파이썬과 장고

이제 우리가 쓸 파이썬과 장고 프레임워크에 대해 간단히 알아보겠습니다. 파이썬은 `귀도 반 로섬`이 만든 범용 프로그래밍 언어입니다. 역사가 오래되긴 했지만, 최근 가장 핫해진 언어이기도 합니다. 굉장히 쉬운 문법, 덕 타이핑 등 개발자를 편하게 만들어주는 언어입니다. 사실 상 제가 느끼기엔 알고리즘을 표현하는데 가장 완벽한 언어라고 생각이 들더군요. 아무튼 현재 개발자들이 배우고 싶은 언어 1위를 차지할 정도로 인기가 높은 언어이기도 합니다.

장고 프레임워크는 파이썬으로 만들어진 웹 프레임워크입니다. `로렌스 저널 월드 신문사`에서 시작된 프로젝트로 오픈소스 프로젝트이며, 구글 엔진에 사용하게 되면서 엄청난 인기를 끌게 된 프레임워크입니다. 본인들 스스로 **배터리 팩**이라는 용어를 사용할 정도로 엄청나게 많은 기능들을 제공합니다. 입문자들이 웹 프로그래밍에 입문하기에 좋기도 하고 안좋기도 합니다. 많은 것들을 처리 해주어 개발을 쉽게 해주지만, 그만큼 추상화되있기 때문에 이들을 이해하는데 더 어렵게 만들기도 합니다.

그럼에도 불구하고 파이썬/장고를 사용하는 이유는 굉장히 쉽게 웸 애플리케이션 서버 및 애플리케이션을 구성할 수 있기 때문이지요.


## 마치며..

이번 시간에는 웹 프로그래밍 전반적인 지식들과, 파이썬/장고에 대해서 간단하게 알아보았습니다. [2장](./ch02.md)에서는 파이썬 설치부터 IDE를 설치해보고 데모 프로젝트를 만들어 이들이 뜻하는게 무엇인지 간단하게 알아보겠습니다. 자! 이제 장고의 세계로 빠져봅시다.
